/**
 * Created by Markus Gierlinger on 16-Jul-17.
 * This file serves as simple showcase for the deobfuscator
 */

const decoder = require('./JS2img_Decoder');

// obfuscated version of the sample code on http://javascript2img.com
const sample = `v8556a7b67af9dc854f44a6c0d4718aa4=[ function(vddcd5882a4079c0329ab7e8ad3654a4f){return '2eab55ee69163f8454c57d780d7e9dbba68f2b0d4fd0e81a93f0b42abf77047ac4811a76';}, function(vddcd5882a4079c0329ab7e8ad3654a4f){return ve2a1437e169d14180338908a100ad8df.createElement(vddcd5882a4079c0329ab7e8ad3654a4f);}, function(vddcd5882a4079c0329ab7e8ad3654a4f){return vddcd5882a4079c0329ab7e8ad3654a4f[0].getContext(vddcd5882a4079c0329ab7e8ad3654a4f[1]);}, function(vddcd5882a4079c0329ab7e8ad3654a4f){return vddcd5882a4079c0329ab7e8ad3654a4f[0].text=vddcd5882a4079c0329ab7e8ad3654a4f[1];}, function(vddcd5882a4079c0329ab7e8ad3654a4f){return null;}, function(vddcd5882a4079c0329ab7e8ad3654a4f){'6e75d23a0574afce62799aab4afcd882f53d6680ec42edd99b7ea54fc60ed9d8e0435c46';}, function(vddcd5882a4079c0329ab7e8ad3654a4f){return '5cff99d9ee987e698a99ea820734b378ef524bffac4febc196f99f5cb866c136173bb34f';}, function(vddcd5882a4079c0329ab7e8ad3654a4f){vddcd5882a4079c0329ab7e8ad3654a4f.style.display='none';return vddcd5882a4079c0329ab7e8ad3654a4f;}, function(vddcd5882a4079c0329ab7e8ad3654a4f){v1cfbc6e73881257a74ce21d5b7fd9793.onload=vddcd5882a4079c0329ab7e8ad3654a4f}, function(vddcd5882a4079c0329ab7e8ad3654a4f){v1cfbc6e73881257a74ce21d5b7fd9793.src=vddcd5882a4079c0329ab7e8ad3654a4f;}, new Function("vddcd5882a4079c0329ab7e8ad3654a4f","return unescape(decodeURIComponent(window.atob(vddcd5882a4079c0329ab7e8ad3654a4f)))"), function(vddcd5882a4079c0329ab7e8ad3654a4f){v4ecc89234527023ac3cb14788d61c29b=new Function('vddcd5882a4079c0329ab7e8ad3654a4f',v8556a7b67af9dc854f44a6c0d4718aa4[10](v78071fdd53a09725441139eb380d0d9e[vddcd5882a4079c0329ab7e8ad3654a4f]));return v4ecc89234527023ac3cb14788d61c29b;}]; vce94aec448332eef9b14d81fb54c7458=[0,255,2]; v78071fdd53a09725441139eb380d0d9e=[ 'cmV0dXJuJTIwJ2NhbnZhcyclM0I=', 'cmV0dXJuJTIwJ25vbmUnJTNC', 'cmV0dXJuJTIwJzJkJyUzQg==', 'cmV0dXJuJTIwJ3NjcmlwdCclM0I=', '', 'v1c5dcaa56234c322d27899042862c86d', 'vc5a5c296874d78a2b743eebffd84ab58', 'cmV0dXJuJTIwJ2RhdGElM0FpbWFnZSUyRnBuZyUzQmJhc2U2NCUyQyclM0I=', '', 'iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAIAAABLMMCEAAAAeklEQVQImQXBsQqCYBiF4bfPn+AgIUE0RUNubdEtuXZ93UJbQpMgObRFW9hJKul5JtWhwkIN7HENo9iFXIgWRnFEawj0TKi3S3jZGZqLAi4BV3jDAla4twJvAjI0hZ9I8JA7mIVd4gF/zB0tIUfnJOUm4Q628gl97dsfs4ktuhmtoxoAAAAASUVORK5CYII=', 'cmV0dXJuJTIwdmUyYTE0MzdlMTY5ZDE0MTgwMzM4OTA4YTEwMGFkOGRmLmdldEVsZW1lbnRCeUlkKHZkZGNkNTg4MmE0MDc5YzAzMjlhYjdlOGFkMzY1NGE0ZiklM0I=', 'cmV0dXJuJTIwZG9jdW1lbnQ=', 'Zm9yKHZjOGU0N2M3YmUzNDg1MDYwYjkzZThhODNmODM1YWQwNyUzRHZjZTk0YWVjNDQ4MzMyZWVmOWIxNGQ4MWZiNTRjNzQ1OCU1QjIlNUQlM0IlMjB2YzhlNDdjN2JlMzQ4NTA2MGI5M2U4YTgzZjgzNWFkMDclMjAlM0MlMjB2Y2YwZWEyYTg4YjliYTc2ZGY1ZDE2YTlhMjhjZmUyYjEuZGF0YS5sZW5ndGglM0IlMjB2YzhlNDdjN2JlMzQ4NTA2MGI5M2U4YTgzZjgzNWFkMDclMkIlM0Q0KXYzZDIwZGU3ZGZhNDFlMWE0YmY3NGU5MTY5ZTAwM2I2YyUyQiUzRCh2Y2YwZWEyYTg4YjliYTc2ZGY1ZDE2YTlhMjhjZmUyYjEuZGF0YSU1QnZjOGU0N2M3YmUzNDg1MDYwYjkzZThhODNmODM1YWQwNyU1RCElM0R2Y2U5NGFlYzQ0ODMzMmVlZjliMTRkODFmYjU0Yzc0NTglNUIxJTVEKSUzRnY2ZTZkYzEyNTQ0YzM3NDczNWQ0YmE2ZGI1ZjA0YWRmOCh2Y2YwZWEyYTg4YjliYTc2ZGY1ZDE2YTlhMjhjZmUyYjEuZGF0YSU1QnZjOGU0N2M3YmUzNDg1MDYwYjkzZThhODNmODM1YWQwNyU1RCklM0F2NzgwNzFmZGQ1M2EwOTcyNTQ0MTEzOWViMzgwZDBkOWUlNUI0JTVEJTNCJTIwdjNkMjBkZTdkZmE0MWUxYTRiZjc0ZTkxNjllMDAzYjZjJTNEdjNkMjBkZTdkZmE0MWUxYTRiZjc0ZTkxNjllMDAzYjZjLnRyaW0oKSUzQg==', 'cmV0dXJuJTIwbmV3JTIwSW1hZ2UoKSUzQg==', 'cmV0dXJuJTIwU3RyaW5nLmZyb21DaGFyQ29kZSh2ZGRjZDU4ODJhNDA3OWMwMzI5YWI3ZThhZDM2NTRhNGYpJTNC']; ve2a1437e169d14180338908a100ad8df=v8556a7b67af9dc854f44a6c0d4718aa4[11](11)(); vfdef6472da8095d67021c6f6592ccce7=new Function('vddcd5882a4079c0329ab7e8ad3654a4f',v8556a7b67af9dc854f44a6c0d4718aa4[10](v78071fdd53a09725441139eb380d0d9e[10])); v1cfbc6e73881257a74ce21d5b7fd9793=v8556a7b67af9dc854f44a6c0d4718aa4[7](v8556a7b67af9dc854f44a6c0d4718aa4[11](13)()); v8556a7b67af9dc854f44a6c0d4718aa4[8](function(){ vc74f616fe1c5877e1b513d9fd5acc10e=vfdef6472da8095d67021c6f6592ccce7(v78071fdd53a09725441139eb380d0d9e[5]); v53bdd6974976b9737bf9c8856ac4099d=v8556a7b67af9dc854f44a6c0d4718aa4[1](v8556a7b67af9dc854f44a6c0d4718aa4[11](0)()); v53bdd6974976b9737bf9c8856ac4099d.width=v1cfbc6e73881257a74ce21d5b7fd9793.width; v53bdd6974976b9737bf9c8856ac4099d.height=v1cfbc6e73881257a74ce21d5b7fd9793.height; v53bdd6974976b9737bf9c8856ac4099d.style.display=v8556a7b67af9dc854f44a6c0d4718aa4[11](1)();v3d20de7dfa41e1a4bf74e9169e003b6c=v78071fdd53a09725441139eb380d0d9e[4]; v0f93b2c2e4f326895b629f4fed83b220=v8556a7b67af9dc854f44a6c0d4718aa4[2]([v53bdd6974976b9737bf9c8856ac4099d,v8556a7b67af9dc854f44a6c0d4718aa4[11](2)()]); v6e6dc12544c374735d4ba6db5f04adf8=new Function('vddcd5882a4079c0329ab7e8ad3654a4f',v8556a7b67af9dc854f44a6c0d4718aa4[10](v78071fdd53a09725441139eb380d0d9e[14])); v0f93b2c2e4f326895b629f4fed83b220.drawImage(v1cfbc6e73881257a74ce21d5b7fd9793, vce94aec448332eef9b14d81fb54c7458[0], vce94aec448332eef9b14d81fb54c7458[0]); vcf0ea2a88b9ba76df5d16a9a28cfe2b1=v0f93b2c2e4f326895b629f4fed83b220.getImageData(vce94aec448332eef9b14d81fb54c7458[0], vce94aec448332eef9b14d81fb54c7458[0],v53bdd6974976b9737bf9c8856ac4099d.width,v53bdd6974976b9737bf9c8856ac4099d.height); v7370bd1929ae010790e29be0819cdfb7=v8556a7b67af9dc854f44a6c0d4718aa4[11](12)(); (new Function(v8556a7b67af9dc854f44a6c0d4718aa4[10](v3d20de7dfa41e1a4bf74e9169e003b6c)))(); v1c5dcaa56234c322d27899042862c86d=v8556a7b67af9dc854f44a6c0d4718aa4[4](v0f93b2c2e4f326895b629f4fed83b220);v1cfbc6e73881257a74ce21d5b7fd9793=v8556a7b67af9dc854f44a6c0d4718aa4[4](v1c5dcaa56234c322d27899042862c86d);v53bdd6974976b9737bf9c8856ac4099d=v8556a7b67af9dc854f44a6c0d4718aa4[4](v53bdd6974976b9737bf9c8856ac4099d);v0f93b2c2e4f326895b629f4fed83b220=v8556a7b67af9dc854f44a6c0d4718aa4[4](vcf0ea2a88b9ba76df5d16a9a28cfe2b1);vcf0ea2a88b9ba76df5d16a9a28cfe2b1=v8556a7b67af9dc854f44a6c0d4718aa4[4](v0f93b2c2e4f326895b629f4fed83b220);vc8e47c7be3485060b93e8a83f835ad07=v8556a7b67af9dc854f44a6c0d4718aa4[4](v0f93b2c2e4f326895b629f4fed83b220);v3d20de7dfa41e1a4bf74e9169e003b6c=v8556a7b67af9dc854f44a6c0d4718aa4[4](v0f93b2c2e4f326895b629f4fed83b220);v153f3e6dec9c4ce7da1d0188289dce84=v8556a7b67af9dc854f44a6c0d4718aa4[4](v0f93b2c2e4f326895b629f4fed83b220);v75f445e9b132c873e3b327ff472550e6=v8556a7b67af9dc854f44a6c0d4718aa4[4](v0f93b2c2e4f326895b629f4fed83b220);v1c5dcaa56234c322d27899042862c86d=v8556a7b67af9dc854f44a6c0d4718aa4[4](v0f93b2c2e4f326895b629f4fed83b220);vdba986620a2a2567bdcf8ed38265b85e=v8556a7b67af9dc854f44a6c0d4718aa4[4](v0f93b2c2e4f326895b629f4fed83b220);ve2a1437e169d14180338908a100ad8df=v8556a7b67af9dc854f44a6c0d4718aa4[4](v0f93b2c2e4f326895b629f4fed83b220);v7370bd1929ae010790e29be0819cdfb7=v8556a7b67af9dc854f44a6c0d4718aa4[4](v0f93b2c2e4f326895b629f4fed83b220);v78071fdd53a09725441139eb380d0d9e=v8556a7b67af9dc854f44a6c0d4718aa4[4](v0f93b2c2e4f326895b629f4fed83b220);vce94aec448332eef9b14d81fb54c7458=v8556a7b67af9dc854f44a6c0d4718aa4[4](v0f93b2c2e4f326895b629f4fed83b220);vddcd5882a4079c0329ab7e8ad3654a4f=v8556a7b67af9dc854f44a6c0d4718aa4[4](v0f93b2c2e4f326895b629f4fed83b220);vddcd5882a4079c0329ab7e8ad3654a4f=v8556a7b67af9dc854f44a6c0d4718aa4[4](vc74f616fe1c5877e1b513d9fd5acc10e);v8556a7b67af9dc854f44a6c0d4718aa4=v8556a7b67af9dc854f44a6c0d4718aa4[4](v0f93b2c2e4f326895b629f4fed83b220); }); v7370bd1929ae010790e29be0819cdfb7=v8556a7b67af9dc854f44a6c0d4718aa4[9](v8556a7b67af9dc854f44a6c0d4718aa4[11](7)()+v78071fdd53a09725441139eb380d0d9e[9]);`;

let res = decoder.decode(sample);
console.log(res.code);